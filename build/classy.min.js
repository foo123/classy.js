/**
*
*   Classy.js
*   @version: 0.7
*
*   Object-Oriented micro-framework for JavaScript
*   https://github.com/foo123/classy.js
*
**/!function(e,n,t,r,l){"use strict";var i="undefined"!=typeof global&&"[object global]"==={}.toString.call(global),a=!i&&"undefined"!=typeof navigator,o="function"==typeof importScripts&&navigator instanceof WorkerNavigator,u=Array,s=u.prototype,c=function(){var e=null;if(i)return e=__filename,{path:__dirname,file:__filename};if(o)e=self.location.href;else if(a){var n;(n=document.getElementsByTagName("script"))&&n.length&&(e=n[n.length-1].src)}return e?{path:e.split("/").slice(0,-1).join("/"),file:e}:{path:null,file:null}},f=c(),p=function(e,n){if(i)return n;if("."==n.charAt(0)){e=e.split("/"),n=n.split("/");var t,r=0,l=0,a=n.length,o=e.length;for(t=0;a>t;t++)if(/^\.\./.test(n[t]))r++,l++;else{if(!/^\./.test(n[t]))break;l++}r=r>=o?0:o-r,n=e.slice(0,r).concat(n.slice(l)).join("/")}return n};t=t?[].concat(t):[];var d,m,b,g=t.length,v=new u(g),h=new u(g),y=new u(g),x=new u(g);for(d=0;g>d;d++)v[d]=t[d][0],h[d]=t[d][1],y[d]=/\.js$/i.test(h[d])?p(f.path,h[d]):p(f.path,h[d]+".js");if("object"==typeof module&&module.exports){if(l===module.exports[n]){for(d=0;g>d;d++)x[d]=module.exports[v[d]]||require(y[d])[v[d]];m=r.apply(e,x),module.exports[n]=m||1}}else if("function"==typeof define&&define.amd)define(["exports"].concat(h),function(t){if(l===t[n]){for(var i=s.slice.call(arguments,1),a=i.length,o=0;a>o;o++)x[o]=t[v[o]]||i[o];m=r.apply(e,x),t[n]=m||1}});else if(o){for(d=0;g>d;d++)self[v[d]]||importScripts(y[d]),x[d]=self[v[d]];m=r.apply(e,x),self[n]=m||1}else if(l===e[n]){var w=function(e,n){b=b||document.getElementsByTagName("head")[0];var t=0,r=document.createElement("script");r.type="text/javascript",r.language="javascript",r.onload=r.onreadystatechange=function(){t||r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(t=1,r.onload=r.onreadystatechange=null,b.removeChild(r),r=null,n&&n())},r.src=e,b.appendChild(r)},j=function(n,t,r){e[n]?r():w(t,r)},$=function(t){return function(){g>t&&(x[t]=e[v[t]]),++t<g?j(v[t],y[t],$(t)):(m=r.apply(e,x),e[n]=m||1)}};g?j(v[0],y[0],$(0)):(m=r.apply(e,x),e[n]=m||1)}}(this,"Classy",null,function(){var e={};return!function(e,n){"use strict";var t="constructor",r="prototype",l="__proto__",i="__static__",a=String,o=Number,u=RegExp,s=Array,c=s[r],f=Object,p=f[r],d=Function,m=d[r],b=m.call.bind(c.slice),g=m.call.bind(p.toString),v=m.call.bind(p.hasOwnProperty),h=m.call.bind(p.propertyIsEnumerable),y=f.keys,x=f.defineProperty,w=function(e){return typeof e},j=function(e){throw new TypeError(e)},$=2,_=3,E=4,S=8,C=9,N=16,A=32,O=64,I=128,k=256,M=512,P=1024,R=function(e){var t,r;return null===e?k:!0===e||!1===e?E:(t=w(e),r=g(e),n===e||"undefined"===t?M:e instanceof o||"number"===t?isNaN(e)?_:$:e instanceof a||"string"===t?1===e.length?C:S:e instanceof s||"[object Array]"===r?N:e instanceof u||"[object RegExp]"===r?I:e instanceof d||"function"===t&&"[object Function]"===r?O:"[object Object]"===r?A:P)},T=function(e,n){var t,r=n.length,l=[].concat(e);for(t=0;r>t;t++)l.indexOf(n[t])>-1||l.push(n[t]);return l},B=function(e,n){A!==R(e)&&j("bad desc");var t={};if(v(e,"enumerable")&&(t.enumerable=!!n.enumerable),v(e,"configurable")&&(t.configurable=!!n.configurable),v(e,"value")&&(t.value=n.value),v(e,"writable")&&(t.writable=!!e.writable),v(e,"get")){var r=e.get;O!==R(r)&&"undefined"!==r&&j("bad get"),t.get=r}if(v(e,"set")){var l=e.set;O!==R(l)&&"undefined"!==l&&j("bad set"),t.set=l}return("get"in t||"set"in t)&&("value"in t||"writable"in t)&&j("identity-confused descriptor"),t},F=f.defineProperties||function(e,n){("object"!==w(e)||null===e)&&j("bad obj"),n=f(n);for(var t=y(n),r=[],l=0;l<t.length;l++)r.push([t[l],B(n[t[l]],e)]);for(var l=0;l<r.length;l++)x(e,r[l][0],r[l][1]);return e},q=f.create||function(e,n){var t,i=function(){};return i[r]=e,t=new i,t[l]=e,"object"===w(n)&&F(t,n),t},V=function(e){var n=e;return function(t){var l,i,a;return n&&(l=n[r])&&(i=l[t])&&i.$sup?(n=n.$super,a=i.$sup.apply(this,b(arguments,1)),n=e,a):void 0}},W=function(){var e,n,t,r,l,i,a,o=b(arguments);for(n=o.shift()||{},e=o.length,i=0;e>i;i++)if(t=o[i],A===R(t))for(l in t)v(t,l)&&h(t,l)&&(r=t[l],a=R(r),n[l]=$&a?0+r:(S|N)&a?r.slice(0):r);return n},z=function(e,n,r){var l,i,a=!!n;if(a||r)if(l={},n=a?n+"$":n,r&&O===R(r))for(i in e)t!==i?(a&&O===R(e[i])&&(l[n+i]=e[i]),l[r(i,e[i])]=e[i]):l[i]=e[i];else for(i in e)t!==i?(a&&O===R(e[i])&&(l[n+i]=e[i]),r&&i in r?l[r[i]]=e[i]:l[i]=e[i]):l[i]=e[i];else l=e;return l},D=function(e,l,a,o){e=e||f,l=l||{};var u,s,c,p,d,m,b,g,h,x,w,j=null,_=e.$static||null,E=e[r];v(l,t)?s=l[t]:(u=function(){},l[t]=s=u),v(l,i)&&(j=l[i],delete l[i],_=T(_||[],y(j)));for(w in l)"$super"!==w&&O===R(h=l[w])&&(x=E[w],O===R(x)&&h!==x?h.$sup=x:h.$sup&&delete h.$sup);if(s[r]=z(q(E),a,o),s[r]=W(s[r],l),F(s[r],{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0},$class:{value:s,enumerable:!1,writable:!0,configurable:!0},$super:{value:V(s),enumerable:!1,writable:!0,configurable:!0}}),F(s,{$super:{value:e,enumerable:!1,writable:!0,configurable:!0},$static:{value:_,enumerable:!1,writable:!0,configurable:!0}}),_){for(p=_.length,d={},c=0;p>c;c++)m=_[c],b=null,j&&n!==j[m]?b=j[m]:n!==e[m]&&(g=R(e[m]),b=A===g?W(null,e[m]):(S|N)&g?e[m].slice(0):$&g?0+e[m]:e[m]),d[m]={value:b,enumerable:!1,writable:!0,configurable:!0};F(s,d)}return s},G=W,H=W,J=function(){var e=b(arguments),n=e.length,t=null;if(n>=2){var l=R(e[0]);l=O===l?{Extends:e[0]}:A===l?e[0]:{Extends:f};var i,a,o=e[1]||{},u={},s=l.Extends||l.extends||f,c=l.Implements||l.implements,p=l.Mixin||l.mixin,d=null;if(c=c?[].concat(c):null,p=p?[].concat(p):null)for(i=0,a=p.length;a>i;i++)A===R(p[i])?p[i].mixin&&p[i].mixin[r]&&(d=z(p[i].mixin[r],p[i].namespace||null,p[i].as||null),u=H(u,d)):p[i][r]&&(d=p[i][r],u=H(u,d));if(c)for(i=0,a=c.length;a>i;i++)A===R(c[i])?c[i].implements&&c[i].implements[r]&&(d=z(c[i].implements[r],c[i].namespace||null,c[i].as||null),u=G(u,d)):c[i][r]&&(d=c[i][r],u=G(u,d));t=A===R(s)?D(s.extends||f,W(u,o),s.namespace||null,s.as||null):D(s,W(u,o))}else t=D(f,e[0]);return t};e.Classy={VERSION:"0.7",Create:q,Merge:W,Alias:z,Implements:G,Mixin:H,Extends:D,Static:function(e){return e},Class:J}}(e),e.Classy});