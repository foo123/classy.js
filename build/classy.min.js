/**
*
*   Classy.js
*   @version: 0.9.1
*
*   Object-Oriented micro-framework for JavaScript
*   https://github.com/foo123/classy.js
*
**/!function(e,n,t){"use strict";var i,l="object"==typeof module&&module.exports,r="function"==typeof define&&define.amd;l?module.exports=(module.$deps=module.$deps||{})[n]=module.$deps[n]||t.call(e,{NODE:module})||1:r&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["require","exports","module"],function(n,i,l){return t.call(e,{AMD:l})}):n in e||(e[n]=i=t.call(e,{})||1)&&r&&define(n,[],function(){return i})}(this,"Classy",function(e){return!function(e,n){"use strict";var t="constructor",i="prototype",l="__proto__",r="__static__",u="__private__",a="$super",o="$static",f="$class",c=2,s=4,d=8,b=Object,p=b[i],m=Function,v=m[i],g=String,h=Number,y=RegExp,x=Array,w=v.call.bind(p.toString),_=(v.call.bind(v.toString),v.call.bind(p.hasOwnProperty)),E=v.call.bind(p.propertyIsEnumerable),j=b.keys,q=b.defineProperty,C=function(e,n){return e instanceof n},I=function(e){return typeof e},$=function(e){throw new TypeError(e)},A=2,O=3,P=4,M=8,N=9,S=16,T=32,R=64,D=128,F=256,V=512,k=1024,B=function(e){var t,i;return null===e?F:!0===e||!1===e?P:(t=I(e),i=w(e),n===e||"undefined"===t?V:C(e,h)||"number"===t?isNaN(e)?O:A:C(e,g)||"string"===t?1===e.length?N:M:C(e,x)||"[object Array]"===i?S:C(e,y)||"[object RegExp]"===i?D:C(e,m)||"function"===t&&"[object Function]"===i?R:"[object Object]"===i?T:k)},L=function(e,n){var t,i=n.length,l=[].concat(e);for(t=0;i>t;t++)-1<l.indexOf(n[t])||l.push(n[t]);return l},U=function(e,n){T!==B(e)&&$("bad desc");var t={};if(_(e,"enumerable")&&(t.enumerable=!!n.enumerable),_(e,"configurable")&&(t.configurable=!!n.configurable),_(e,"value")&&(t.value=n.value),_(e,"writable")&&(t.writable=!!e.writable),_(e,"get")){var i=e.get;R!==B(i)&&"undefined"!==i&&$("bad get"),t.get=i}if(_(e,"set")){var l=e.set;R!==B(l)&&"undefined"!==l&&$("bad set"),t.set=l}return("get"in t||"set"in t)&&("value"in t||"writable"in t)&&$("identity-confused descriptor"),t},z=b.defineProperties||function(e,n){("object"!==I(e)||null===e)&&$("bad obj"),n=b(n);for(var t=j(n),i=[],l=0;l<t.length;l++)i.push([t[l],U(n[t[l]],e)]);for(var l=0;l<i.length;l++)q(e,i[l][0],i[l][1]);return e},G=function(){},H=b.create||function(e,n){var t,r=function(){};return r[i]=e,t=new r,t[l]=e,"object"===I(n)&&z(t,n),t},J=function(){var e,n,t,i,l,r,u,a=arguments;for(n=a[0]||{},e=a.length,r=1;e>r;r++)if(t=a[r],T===B(t))for(l in t)_(t,l)&&E(t,l)&&(i=t[l],u=B(i),n[l]=A&u?0+i:(M|S)&u?i.slice(0):i);return n},K=function(e,n,i){var l,r,u=!!n;if(u||i)if(l={},n=u?n+"$":n,i&&R===B(i))for(r in e)t!==r?(u&&R===B(e[r])&&(l[n+r]=e[r]),l[i(r,e[r])]=e[r]):l[r]=e[r];else for(r in e)t!==r?(u&&R===B(e[r])&&(l[n+r]=e[r]),i&&r in i?l[i[r]]=e[r]:l[r]=e[r]):l[r]=e[r];else l=e;return l},Q=function(e){var n=e[a]||G,t=e[a+"v"]||G,i=null;return[function(t,l,r,u,a,o,f,c,s,d,b){var p,m;return i===t?p=n.call(this,t,l,r,u,a,o,f,c,s,d,b):(m=e[t])&&(i=t,p=m.call(this,l,r,u,a,o,f,c,s,d,b),i=null),p},function(n,l){var r,u;return i===n?r=t.call(this,n,l):(u=e[n])&&(i=n,r=l&&l.length?u.apply(this,l):u.call(this),i=null),r}]},W=function(e,n){return this instanceof W?(this.factory=e,void(this.qualifier=(A===B(n)?n:0)|c)):new W(e,n)},X=function(e,n){return this instanceof X?(this.prop=e,void(this.qualifier=(A===B(n)?n:0)|c)):new X(e,n)},Y=function(e,l,c,p){e=e||b,l=l||{};var m,v,g,h,y,x,w,E,q,C,I=e[o]||null,$=e[i],O=null,P=null,N={};_(l,t)||(l[t]=function(){}),m=l[t],_(l,u)&&(N=l[u]||{},delete l[u]),_(l,r)&&(O=l[r],P=j(O),delete l[r]);for(q in l){if(C=l[q],C instanceof W){if(d&C.qualifier){(O=O||{})[q]=C.factory(e,N,m),(P=P||[]).push(q),delete l[q];continue}if(s&C.qualifier){N[q]=C,delete l[q];continue}l[q]=C.factory($,N,m)}R===B(C)&&(C[a]=$[q]||G)}for(q in N)C=N[q],C instanceof W&&(C=N[q]=C.factory($,N,m)),R!==B(C)&&delete N[q];if(m[i]=K(H($),c,p),m[i]=J(m[i],l),v=Q($),y={},y[f]=y[t]={value:m,enumerable:!1,writable:!0,configurable:!0},y[a]={value:v[0],enumerable:!1,writable:!0,configurable:!0},y[a+"v"]={value:v[1],enumerable:!1,writable:!0,configurable:!0},z(m[i],y),y={},I||P)for(I=L(I||[],P||[]),h=I.length,g=0;h>g;g++)x=I[g],w=null,O&&n!==O[x]?(w=O[x],R===B(w)&&(w[a]=e[x]||G)):n!==e[x]&&(E=B(e[x]),w=T===E?J(null,e[x]):(M|S)&E?e[x].slice(0):A&E?0+e[x]:e[x]),y[x]={value:w,enumerable:!1,writable:!0,configurable:!0};return y[o]={value:I,enumerable:!1,writable:!0,configurable:!0},y[a]={value:e,enumerable:!1,writable:!0,configurable:!0},z(m,y),m},Z=J,en=J,nn=function(e){var n,t,l,r;if(R===B(e)){if(a in e&&(e[a]=null),f in e&&(e[f]=null),o in e){for(l=e[o],n=0,t=l.length;t>n;n++)r=l[n],r in e&&(R===B(e[r])&&e[r][a]&&(e[r][a]=null),e[r]=null);e[o]=null}l=e[i];for(r in l)R===B(l[r])&&(l[r][a]&&(l[r][a]=null),l[r]=null);l[a]=null,l[a+"v"]=null}},tn=function(){var e=arguments,n=e.length,t=null;if(d===e[0])return e[1]||{};if(n>=2){var l=B(e[0]);l=R===l?{Extends:e[0]}:T===l?e[0]:{Extends:b};var r,u,a=e[1]||{},o={},f=l.Extends||l.extends||b,c=l.Implements||l.implements,s=l.Mixin||l.mixin,p=null;if(c=c?[].concat(c):null,s=s?[].concat(s):null)for(r=0,u=s.length;u>r;r++)T===B(s[r])?s[r].mixin&&s[r].mixin[i]&&(p=K(s[r].mixin[i],s[r].namespace||null,s[r].as||null),o=en(o,p)):s[r][i]&&(p=s[r][i],o=en(o,p));if(c)for(r=0,u=c.length;u>r;r++)T===B(c[r])?c[r].implements&&c[r].implements[i]&&(p=K(c[r].implements[i],c[r].namespace||null,c[r].as||null),o=Z(o,p)):c[r][i]&&(p=c[r][i],o=Z(o,p));t=T===B(f)?Y(f.extends||b,J(o,a),f.namespace||null,f.as||null):Y(f,J(o,a))}else t=Y(b,e[0]);return t};e.Classy={VERSION:"0.9.1",PUBLIC:c,STATIC:d,PRIVATE:s,Type:B,Create:H,Merge:J,Alias:K,Implements:Z,Mixin:en,Extends:Y,Dispose:nn,Method:W,Prop:X,Class:tn}}(e),e.Classy});