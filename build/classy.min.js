/**
*
*   Classy.js
*   @version: 0.8
*
*   Object-Oriented micro-framework for JavaScript
*   https://github.com/foo123/classy.js
*
**/!function(e,n,t){"use strict";var r,l="object"==typeof module&&module.exports,u="function"==typeof define&&define.amd;l?module.exports=(module.$deps=module.$deps||{})[n]=module.$deps[n]||t.call(e,{NODE:module})||1:u&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["require","exports","module"],function(n,r,l){return t.call(e,{AMD:l})}):n in e||(e[n]=r=t.call(e,{})||1)&&u&&define(n,[],function(){return r})}(this,"Classy",function(e){return!function(e,n){"use strict";var t="constructor",r="prototype",l="__proto__",u="__static__",i=String,a=Number,o=RegExp,c=Array,s=Object,f=s[r],d=Function,b=d[r],m=b.call.bind(f.toString),p=b.call.bind(b.toString),g=b.call.bind(f.hasOwnProperty),v=b.call.bind(f.propertyIsEnumerable),h=s.keys,y=s.defineProperty,x=function(e,n){return e instanceof n},w=function(e){return typeof e},$=function(e){throw new TypeError(e)},j=2,E=3,_=4,N=8,A=9,O=16,C=32,S=64,q=128,F=256,I=512,M=1024,P=function(e){var t,r;return null===e?F:!0===e||!1===e?_:(t=w(e),r=m(e),n===e||"undefined"===t?I:x(e,a)||"number"===t?isNaN(e)?E:j:x(e,i)||"string"===t?1===e.length?A:N:x(e,c)||"[object Array]"===r?O:x(e,o)||"[object RegExp]"===r?q:x(e,d)||"function"===t&&"[object Function]"===r?S:"[object Object]"===r?C:M)},R=function(e,n){var t,r=n.length,l=[].concat(e);for(t=0;r>t;t++)l.indexOf(n[t])>-1||l.push(n[t]);return l},z=function(e,n){C!==P(e)&&$("bad desc");var t={};if(g(e,"enumerable")&&(t.enumerable=!!n.enumerable),g(e,"configurable")&&(t.configurable=!!n.configurable),g(e,"value")&&(t.value=n.value),g(e,"writable")&&(t.writable=!!e.writable),g(e,"get")){var r=e.get;S!==P(r)&&"undefined"!==r&&$("bad get"),t.get=r}if(g(e,"set")){var l=e.set;S!==P(l)&&"undefined"!==l&&$("bad set"),t.set=l}return("get"in t||"set"in t)&&("value"in t||"writable"in t)&&$("identity-confused descriptor"),t},D=s.defineProperties||function(e,n){("object"!==w(e)||null===e)&&$("bad obj"),n=s(n);for(var t=h(n),r=[],l=0;l<t.length;l++)r.push([t[l],z(n[t[l]],e)]);for(var l=0;l<r.length;l++)y(e,r[l][0],r[l][1]);return e},T=s.create||function(e,n){var t,u=function(){};return u[r]=e,t=new u,t[l]=e,"object"===w(n)&&D(t,n),t},Z=function(e){var n=e.$super||function(){},t=null;return function(r,l,u,i,a,o,c,s,f,d,b){var m;return t===r?m=n.call(this,r,l,u,i,a,o,c,s,f,d,b):(t=r,m=e[r].call(this,l,u,i,a,o,c,s,f,d,b),t=null),m}},k=function(e){var n=e.$superv||function(){},t=null;return function(r,l){var u,i;return t===r?u=n.call(this,r,l):(t=r,i=l?l.length:0,u=i?e[r].apply(this,l):e[r].call(this),t=null),u}},V=/^function\s*([a-zA-Z_][0-9a-zA-Z_]+)?([^{]*){/,B=0,G=function(e,n){var t,r=h(n||{}),l=[];for(t=0;t<r.length;t++)l.push(n[r[t]]);return new d(r.join(","),"return "+e+";").apply({},l)},H=function(e,n,t,r,l){var u,i,a,o=t[e]||function(){},c=p(n);return(i=c.match(V))?(a=i[1]||"_mf"+ ++B+"_",u=G(["function ",a,i[2],"{","\n","var $method=",a,";","\n",c.slice(i[0].length)].join(""),r),u[l||"$super"]=o,u):n},J=function(){var e,n,t,r,l,u,i,a=arguments;for(n=a[0]||{},e=a.length,u=1;e>u;u++)if(t=a[u],C===P(t))for(l in t)g(t,l)&&v(t,l)&&(r=t[l],i=P(r),n[l]=j&i?0+r:(N|O)&i?r.slice(0):r);return n},K=function(e,n,r){var l,u,i=!!n;if(i||r)if(l={},n=i?n+"$":n,r&&S===P(r))for(u in e)t!==u?(i&&S===P(e[u])&&(l[n+u]=e[u]),l[r(u,e[u])]=e[u]):l[u]=e[u];else for(u in e)t!==u?(i&&S===P(e[u])&&(l[n+u]=e[u]),r&&u in r?l[r[u]]=e[u]:l[u]=e[u]):l[u]=e[u];else l=e;return l},L=function(e,l,i,a,o){e=e||s,l=l||{};var c,f,d,b,m,p,v,y,x,w,$=null,E=e.$static||null,_=e[r];if(g(l,t)?f=l[t]:(c=function(){},l[t]=f=c),g(l,u)&&($=l[u],delete l[u],E=R(E||[],h($))),o&&o.methods&&o.methods.length)for(x=0;x<o.methods.length;x++)S===P(w=l[o.methods[x]])&&(l[o.methods[x]]=H(o.methods[x],w,_,o.scope,"$super"));if(f[r]=K(T(_),i,a),f[r]=J(f[r],l),D(f[r],{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0},$class:{value:f,enumerable:!1,writable:!0,configurable:!0},$superv:{value:k(_),enumerable:!1,writable:!0,configurable:!0},$super:{value:Z(_),enumerable:!1,writable:!0,configurable:!0}}),D(f,{$super:{value:e,enumerable:!1,writable:!0,configurable:!0},$static:{value:E,enumerable:!1,writable:!0,configurable:!0}}),E){for(b=E.length,m={},d=0;b>d;d++)p=E[d],v=null,$&&n!==$[p]?v=$[p]:n!==e[p]&&(y=P(e[p]),v=C===y?J(null,e[p]):(N|O)&y?e[p].slice(0):j&y?0+e[p]:e[p]),m[p]={value:v,enumerable:!1,writable:!0,configurable:!0};D(f,m)}return f},Q=J,U=J,W=function(){var e=arguments,n=e.length,t=null;if(n>=2){var l=P(e[0]);l=S===l?{Extends:e[0]}:C===l?e[0]:{Extends:s};var u,i,a=e[1]||{},o={},c=l.Extends||l.extends||s,f=l.Implements||l.implements,d=l.Mixin||l.mixin,b=null;if(f=f?[].concat(f):null,d=d?[].concat(d):null)for(u=0,i=d.length;i>u;u++)C===P(d[u])?d[u].mixin&&d[u].mixin[r]&&(b=K(d[u].mixin[r],d[u].namespace||null,d[u].as||null),o=U(o,b)):d[u][r]&&(b=d[u][r],o=U(o,b));if(f)for(u=0,i=f.length;i>u;u++)C===P(f[u])?f[u].implements&&f[u].implements[r]&&(b=K(f[u].implements[r],f[u].namespace||null,f[u].as||null),o=Q(o,b)):f[u][r]&&(b=f[u][r],o=Q(o,b));t=C===P(c)?L(c.extends||s,J(o,a),c.namespace||null,c.as||null,l.NFE||null):L(c,J(o,a),null,null,l.NFE||null)}else t=L(s,e[0]);return t};e.Classy={VERSION:"0.8",Type:P,Create:T,Merge:J,Alias:K,Implements:Q,Mixin:U,Extends:L,Static:function(e){return e},Class:W}}(e),e.Classy});